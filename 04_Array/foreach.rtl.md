# حلقه `foreach` در PHP

## ۱. مقدمه

حلقه `foreach` یکی از **مهم‌ترین حلقه‌ها برای کار با آرایه‌ها** در PHP است.
مزیت آن این است که **لازم نیست طول آرایه یا اندیس‌ها را بدانیم** و می‌توانیم به راحتی تمام عناصر آرایه را پیمایش کنیم.

---

## ۲. آرایه شمارشی (Indexed Array)

آرایه شمارشی، آرایه‌ای است که **اندیس‌های آن عددی و متوالی** هستند.

### مثال:

```php
<?php
$fruits = ["سیب", "موز", "پرتقال"];

foreach ($fruits as $fruit) {
    echo $fruit . "<br>";
}
?>
```

**خروجی:**

```
سیب
موز
پرتقال
```

**توضیح:**

* `$fruits` نام آرایه است.
* `$fruit` متغیری است که **هر بار یکی از عناصر آرایه را می‌گیرد**.
* نیازی نیست اندیس‌ها را مشخص کنیم، `foreach` خودکار همه عناصر را پیمایش می‌کند.

---

## ۳. آرایه‌های اندیس‌دار با استفاده از کلید و مقدار

اگر بخواهیم هم **اندیس** و هم **مقدار** را داشته باشیم، از ساختار زیر استفاده می‌کنیم:

```php
<?php
$fruits = ["سیب", "موز", "پرتقال"];

foreach ($fruits as $index => $fruit) {
    echo "اندیس $index : مقدار $fruit<br>";
}
?>
```

**خروجی:**

```
اندیس 0 : مقدار سیب
اندیس 1 : مقدار موز
اندیس 2 : مقدار پرتقال
```

**توضیح:**

* `$index` → اندیس عنصر در آرایه
* `$fruit` → مقدار عنصر
* این حالت مخصوص آرایه‌های شمارشی هم کاربرد دارد و هم آرایه‌های انجمنی.

---

## ۴. آرایه انجمنی (Associative Array)

آرایه انجمنی آرایه‌ای است که **اندیس‌های آن نام دارند**، نه عدد.

### مثال:

```php
<?php
$student = [
    "name" => "علی",
    "age" => 17,
    "grade" => "دوازدهم"
];

foreach ($student as $key => $value) {
    echo "$key : $value<br>";
}
?>
```

**خروجی:**

```
name : علی
age : 17
grade : دوازدهم
```

**توضیح:**

* `$key` → نام کلید آرایه (مثلاً "name")
* `$value` → مقدار آن کلید (مثلاً "علی")
* این روش بهترین و ساده‌ترین راه برای پیمایش آرایه‌های انجمنی است.

---

## ۵. آرایه‌های دو بعدی (Multi-dimensional Array)

آرایه دو بعدی، آرایه‌ای است که **هر عنصر آن خودش یک آرایه باشد**.

### مثال ۱: آرایه دو بعدی عددی

```php
<?php
$students = [
    ["علی", 17],
    ["رضا", 18],
    ["مینا", 17]
];

foreach ($students as $student) {
    echo "نام: " . $student[0] . ", سن: " . $student[1] . "<br>";
}
?>
```

**خروجی:**

```
نام: علی, سن: 17
نام: رضا, سن: 18
نام: مینا, سن: 17
```

**توضیح:**

* `$student` هر بار یک آرایه درون آرایه اصلی می‌شود.
* `$student[0]` → نام
* `$student[1]` → سن

---

### مثال ۲: آرایه دو بعدی انجمنی

```php
<?php
$students = [
    ["name" => "علی", "age" => 17],
    ["name" => "رضا", "age" => 18],
    ["name" => "مینا", "age" => 17]
];

foreach ($students as $student) {
    foreach ($student as $key => $value) {
        echo "$key : $value ";
    }
    echo "<br>";
}
?>
```

**خروجی:**

```
name : علی age : 17
name : رضا age : 18
name : مینا age : 17
```

**توضیح:**

* از **دو حلقه foreach تو در تو** استفاده کردیم:

  1. حلقه اول برای پیمایش هر دانش‌آموز (هر عنصر آرایه اصلی)
  2. حلقه دوم برای پیمایش کلیدها و مقادیر آرایه داخلی (نام و سن)

---

## ۶. جمع‌بندی

* `foreach` بهترین و ساده‌ترین روش برای پیمایش **تمام انواع آرایه‌ها** در PHP است.
* برای آرایه شمارشی ساده:

```php
foreach ($array as $value) { }
```

* برای دسترسی به **کلید و مقدار**:

```php
foreach ($array as $key => $value) { }
```

* برای آرایه‌های چند بعدی، می‌توان **حلقه‌های foreach تو در تو** ایجاد کرد.

---
